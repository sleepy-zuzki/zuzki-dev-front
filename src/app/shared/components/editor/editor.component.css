@reference "../../../../styles/utilities.css";

/* Contenedor principal */
.editor-container {
  @apply min-h-[300px] w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-900 transition-all duration-200 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100;
  @apply focus-within:outline-none focus-within:ring-2 focus-within:ring-zuzki-500 focus-within:ring-offset-2 focus-within:ring-offset-background-default focus-within:border-zuzki-500;
  position: relative;
}

/* Estado inválido */
.editor-container.is-invalid {
  @apply border-red-500 focus-within:border-red-500 focus-within:ring-red-500;
}

/* Utilidades de formulario estandarizadas */
.form-label {
  @apply form-label;
}

.error-text {
  @apply form-error;
}

/* 
   ESTILOS GLOBALES (Sin ::ng-deep porque encapsulation es None) 
   Scopeados a .editor-container para evitar fugas.
*/

.editor-container .codex-editor__redactor {
  @apply pb-10;
}

.editor-container .ce-block__content,
.editor-container .ce-toolbar__content {
  @apply max-w-full;
}

/* Ajustes de color para la UI del editor */
.editor-container .ce-inline-tool,
.editor-container .ce-conversion-tool,
.editor-container .ce-settings,
.editor-container .ce-toolbar__plus,
.editor-container .ce-toolbar__settings-btn {
  @apply text-gray-800 dark:text-gray-200 transition-colors duration-200;
}

/* Hover de botones de la Toolbar */
.editor-container .ce-toolbar__plus:hover,
.editor-container .ce-toolbar__settings-btn:hover {
  @apply bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white;
}

/* Asegurar que el icono SVG interno herede el color en hover */
.editor-container .ce-toolbar__plus:hover svg,
.editor-container .ce-toolbar__settings-btn:hover svg {
  @apply fill-current;
}

/* Menús desplegables (Dropdowns) en modo oscuro */
.editor-container .ce-popover {
  @apply dark:bg-gray-900 dark:border-gray-700;
}

.editor-container .ce-popover__item:hover {
  @apply dark:bg-gray-800;
}

.editor-container .ce-popover__item-icon {
  @apply dark:bg-gray-800 dark:text-gray-200;
}

.editor-container .ce-popover__item-label {
  @apply dark:text-gray-200;
}

/* --- Estilización de Headers (Ganando al reset de Tailwind) --- */

.editor-container .ce-header {
  @apply font-bold tracking-tight text-gray-900 dark:text-gray-100;
  padding: 0.7em 0 0.3em;
  line-height: 1.25;
  display: block;
}

/* Selectores específicos por nivel */
.editor-container h1.ce-header { @apply text-4xl; }
.editor-container h2.ce-header { @apply text-3xl; }
.editor-container h3.ce-header { @apply text-2xl; }
.editor-container h4.ce-header { @apply text-xl; }

/* Párrafos */
.editor-container .ce-paragraph {
  @apply leading-relaxed text-base;
  padding: 0.5em 0;
}

/* Placeholder */
.editor-container [data-placeholder]:empty::before {
  @apply text-gray-400 font-normal opacity-50;
  content: attr(data-placeholder);
}

/* Listas */
.editor-container .cdx-list {
  @apply list-disc pl-5 py-2;
}

.editor-container .cdx-list__item {
  @apply py-1;
}

/* Citas */
.editor-container .cdx-quote {
  @apply border-l-4 border-brand-primary pl-4 italic my-4 bg-gray-50 dark:bg-gray-800/50 py-2;
}
